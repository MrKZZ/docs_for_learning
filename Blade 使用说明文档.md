# Blade 使用说明文档

首先说明一下为什么要使用blade？

blade是一款定位在Linux下的大型C++项目编译工具。主要的优点是简单易用，BUILD文件简单直观，且支持thrift和proto自动编译公能，相比GNU Make, Autotool等编译工具，blade只需要在构建脚本BUILD文件中说明需要构建什么类型的目标，需要构建的目标源代码，以及其直接依赖的其他目标，而不用说明如何构建构建脚本的编写难度明显降低，显著提高开发效率。blade第二个显著的优点就是速度快，这一点得益于他支持并行编译和并行测试，使用了ccache等库，可以将编译中间结果进行缓存等等···

1. 验证blade安装是否成功：可以使用blade，或者blade --help进行验证。

2. blade要求整个工程的树形结构中有一个明确的根目录，进而避免文件重名的问题，同时避免编译过程搜索头文件的时间开销庞大。blade获取工程根目录的方式是通过当前编译执行的BUILD文件开始，逐渐向上层目录寻找BLADE_ROOT文件，直到找到该文件并把该文件所在目录作为当次编译的根目录。生成BLADE_ROOT文件是通过blade init命令实现（即进入此次编译欲指定的根目录中，执行blade init，在当前目录下生成BLADE_ROOT文件即指定当前路径为工程的根目录），以后在该路径的子目录下执行blade命令都会以这一层目录作为根目录，编译该目录下的工程文件。

3. BUILD文件：BUILD文件是作为工程编译的描述文件，BUILD文件中可以指定构建目标的类型，名字，构建所需的源文件以及构建该工程所需的依赖文件。举个简单的例子：

   `cc_binary(      	//这里指定了目标类型，即生成二进制文件类型，直接可执行的文件
       name='server',      //这里写明了构建目标名称，即生成的文件名
       srcs=[              //目标所依赖的源文件列表
           'main.cpp',
           'handler.cpp',
           'client.cpp',
          ],
       deps=[              //目标所依赖的其他目标名及路径
           '':commonlib','
       ])`

   

